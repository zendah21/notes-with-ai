/* Theme variables */
:root {
  --bg: #f6f7fb;
  --fg: #1f2a44;
  --muted: #5b6b88;
  --card: #ffffff;
  --border: #e9ecf1;
  --shadow: rgba(0,0,0,0.08);
  --nav-bg: #111827;
  --nav-fg: #f8fafc;
}
[data-theme="dark"] {
  --bg: #0f172a;
  --fg: #e5e7eb;
  --muted: #94a3b8;
  --card: #111827;
  --border: #1f2937;
  --shadow: rgba(0,0,0,0.6);
  --nav-bg: #0b1020;
  --nav-fg: #e2e8f0;
}

/* Base tweaks */
html, body { background: var(--bg); color: var(--fg); }
.navbar { box-shadow: 0 2px 10px var(--shadow); background: var(--nav-bg) !important; }
.navbar .navbar-brand, .navbar .btn { color: var(--nav-fg); }

/* Cards */
.card { border: 1px solid var(--border); background: var(--card); transition: transform 120ms ease, box-shadow 120ms ease; }
.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px var(--shadow);
}

.card .badge {
  font-weight: 500;
}

/* Badges palette refinement */
.text-bg-secondary { background-color:#e9edf5 !important; color:#344767 !important; }
.text-bg-info { background-color:#d7f1ff !important; color:#0b6b95 !important; }
.text-bg-success { background-color:#d8f5e0 !important; color:#1e7d42 !important; }
.text-bg-warning { background-color:#fff2cc !important; color:#8a6d00 !important; }
.text-bg-danger { background-color:#ffe0e0 !important; color:#a33a3a !important; }
.text-bg-light { background-color:#f7f9fc !important; color:#506079 !important; }
[data-theme="dark"] .text-bg-secondary { background-color:#1f2937 !important; color:#cbd5e1 !important; }
[data-theme="dark"] .text-bg-info { background-color:#0b3b53 !important; color:#8bd2f8 !important; }
[data-theme="dark"] .text-bg-success { background-color:#0d3d22 !important; color:#9be9b2 !important; }
[data-theme="dark"] .text-bg-warning { background-color:#3b2e00 !important; color:#ffe08a !important; }
[data-theme="dark"] .text-bg-danger { background-color:#3e0f0f !important; color:#ffb3b3 !important; }
[data-theme="dark"] .text-bg-light { background-color:#111827 !important; color:#94a3b8 !important; }

/* Grid spacing */
#tasks-grid { row-gap: 1rem; }

/* Command bar */
#ai-cmd:focus { box-shadow: 0 0 0 .2rem rgba(25,135,84,.25); }
#ai-send { box-shadow: none; }

/* Status pill under command bar */
#ai-status {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  background: #eef3ff;
  color: #2a3b6b;
}
[data-theme="dark"] #ai-status { background:#1e293b; color:#c7d2fe; }

/* Help page list spacing */
.container ul { margin-bottom: .75rem; }

/* Priority accents on cards */
.card.card-pr-low { border-top: 4px solid #94a3b8; }
.card.card-pr-medium { border-top: 4px solid #64748b; }
.card.card-pr-high { border-top: 4px solid #f59f00; }
.card.card-pr-urgent { border-top: 4px solid #e03131; }
[data-theme="dark"] .card.card-pr-low { border-top-color:#475569; }
[data-theme="dark"] .card.card-pr-medium { border-top-color:#334155; }
[data-theme="dark"] .card.card-pr-high { border-top-color:#c98b00; }
[data-theme="dark"] .card.card-pr-urgent { border-top-color:#b42323; }

/* Details summary styling */
details > summary {
  list-style: none;
}
details > summary::-webkit-details-marker { display: none }
details > summary::after {
  content: "âœ";
  margin-left: .5rem;
}
